## Բեյսիկ-Փ լեզուն

Բեյսիկ-Փ լեզուն դասական BASIC ընտանիքի լեզու է՝ պարզեցված ուսուցողական և 
ցուցադրական նպատակների համար։ BASIC-ից ես ընտրել եմ միայն այն ղեկավարող 
կառուցվածքներն ու արտահայտությունների տեսակները, որոնք յուրահատուկ են 
համարյա բոլոր պրոցեդուրային, ստրուկտուրավորված լեզուներին։ 

Ստորև հատված առ հատված ներկայացնում եմ Բեյսիկ-Փ լեզվի քերականությունը՝ 
EBNF գրառմամբ՝ անհրաժեշտության դեպքում լրացված մանրամասն բացատրություններով
և օրինակներով։ 

### Ֆունկցիայի հայտարարում և սահմանում

Բեյսիկ-Փ լեզվով գրված ծրագիրը ֆունկցիաների հայտարությունների ու սահմանումների 
հաջորդականություն է.

````
Program = { (Declare | Function) }.
````


Հայտարարությունը սկսվում է `DECLARE` ծառայողական բառով, որին հաջորդում է 
ֆունկցիայի վերնագիրը.

````
Declare = 'DECLARE' FuncHeader.
````

Օրինակ՝ `DECLARE FUNCTION max(x,y)` տողը հայտարարում է `x` և `y` պարամետրերով
`max` ֆունկցիան։


Ֆունկցիայի վերնագիրը սկսվում է `FUNCTION` ծառայողական բառով, որին հետևում է 
ֆունկցիայի անունը ցույց տվող իդենտիֆիկատորը, այնուհետև՝ `(` և `)` փակագծերի 
մեջ առված պարամետրերի ցուցակը։ Պարամետրերի ցուցակը ստորակետով իրարից 
բաժանված իդենտիֆիկատորների հաջորդականություն է, որ կարող է նաև դատարկ լինել։
Վերնագիրը անպայման պետք է ավարտվի գոնե մեկ նոր տողի նիշով։

````
FuncHeader = 'FUNCTION' IDENT '(' [IDENT {',' IDENT}] ')' NewLines.
````


Ֆունկցիայի սահմանումը սկսվում է ֆունկցիայի վերնագրով, որին հետևում է 
հրամանների հաջորդականությունը, այնուհետև՝ `END` և `FUNCTION` ծառայողական 
բառերը։

````
Function = FuncHeader { Statement NewLines } 'END' 'FUNCTION'.
````

### Հրամաններ 

Բեյսիկ-Փ լեզվի հրամանները վեցն են. _վերագրում_, _ներմուծում_, _արտածում_, 
_ճյուղավորում_, _պարամետրով_ և _նախապայմանով_ ցիկլեր։ 

__Վերագրման__ հրամանը սկսվում է վերագրվող փոփոխականը որոծող իդենտիֆիկատորով,
որին հետևում է `=` նիշը, այնուհետև՝ վերագրվող արտահայտությունը։ 

````
Statement = IDENT '=' Disjunction.
````

Օրինակ, `pi = 3.14` հրամանով `pi` փոփոխականին վերագրվում է `3.14` արժեքը։


Տվյալների __ներմուծման__ հրամանը սկսվում է `INPUT` ծառայողական բառով, որին 
հետևում է փոփոխականի անունը։

````
Statement = 'INPUT' IDENT.
````


__Արտածման__ հրամանը սկսվում է `PRINT` ծառայողական բառով, որին հետևում է
արտածվող արտահայտությունը։

````
Statement = 'PRINT' Disjunction.
````


__Ճյուղավորման__ հրամանը սկսվում է `IF` ծառայողական բառով, որին հետևում 
են ճյուղավորման պայմանի արտահայտությունը, ապա՝ `THEN` ծառայողական բառը, 
գոնե մեկ նոր տողի նիշ, և հրամանների հաջորդականություն։ Այս հրամանների 
հաջորդականությունը պետք է կատարվի ճյուղավորման պայմանի ճշմարիտ լինելու 
դեպքում։ Ճյուղավորման հրամանում այլընտրանաքային պայմանները սկսվում են
`ELSEIF` ծառայողական բառով, որին հաջորդում են պայմանը, ապա `THEN`
ծառայողական բառը, գոնե մեկ նոր տողի նիշ և հրամանների հաջորդականություն։
Եթե հարկավոր է նշել հրամանների հաջորդականություն, որը կատարվում է այն
դեպքում, երբ թվերկված պայմաններից ոչ մեկը ճշմարիտ չէ, ապա օգտագործվում է
`ELSE` ծառայողական բառը, գոնե մեկ նոր տողի նիշ, ապա թվարկվում են 
հրամանները։ Վերջապես, ճյուղավորման հրամանը պետք է ավարտել `END` և `IF`
ծառայողական բառերով։

````
Statement = 'IF' Disjunction 'THEN' NewLines { Statement NewLines }
      { 'ELSEIF' Disjunction 'THEN' NewLines { Statement NewLines } }
      [ 'ELSE' NewLines { Statement NewLines } ]
       'END' 'IF'.
````

Օրինակ, եթե պետք է `x` փոփոխականի արժեքն արտածել միայն այն դեպքում, 
երբ այն մեծ է `1000`-ից, պետք է գրել.

````
IF x > 1000 THEN
    PRINT x
END IF
````

Եթե պետք է `c` փոփոխականին վերագրել `a` և `b` փոփոխականներից մեծագույնի 
արժեքը, ապա պետք է գրել.

````
IF a > b THEN
    c = a
ELSE
    c = b
END IF
````

Եթե պետք է որոշել, թե `x` և `y` դեկարտյան կոորդինատներով որոշվող կետը 
հարթության ո՛ր քառորդում է գտնվում, պետք է գրել.

````
IF x > 0 AND y > 0 THEN
    quadrant = 1
ELSEIF x < 0 AND y > 0 THEN
    quadrant = 2
ELSEIF x < 0 AND y < 0 THEN
    quadrant = 3
ELSEIF x > 0 AND y < 0 THEN
    quadrant = 4
END IF
````

__Պարամետրով ցիկլի__ հրամանը սկսվում է `FOR` ծառայողական բառով, որին
հետևում է ցիկլի պարամետրի իդենտիպիկատորը, ապա՝ `=` նիշը, պարամետրի 
սկզբնական արժեքը, `TO` ծառայողական բառը։ Պարամետրով ցիկլի պարամետրի 
քայլը նշվում է `STEP` բառով ու դրան հաջորդող արտահայտությամբ։ Հրամանի 
վերնագիրը պետք է ավարտվի գոնե մեկ նոր տողի նիշով։ Ցիկլի մարմինը հրամանների
հաջորդականություն է։ Իսկ ամբողջ կառուցվածքը ավարտվում է `END` և `FOR`
ծառայողական բառերով։

````
Statement = 'FOR' IDENT '=' Disjunction 'TO' Disjunction 
      ['STEP' Disjunction] NewLines
      { Statement NewLines } 'END' 'FOR'.
````

Օրինակ, `8..64` միջակայքի զույգ թվերի քառակուսիները տպելու համար պետք է գրել.

````
FOR k = 8 TO 64 STEP 2
    PRINT k^2
END FOR
````


__Նախապայմանով ցիկլի__ հրամանը սկսվում է `WHILE` ծառայողական բառով, որին 
հետևում են ցիկլի կատարման պայմանն ու գոնե մեկ նոր տողի նիշ։ Այնուհետև՝ 
հրամանների հաջորդականություն, և հրամանն ավարտվում է `END` և `WHILE` 
բառերով։

````
Statement = 'WHILE' Disjunction NewLines { Statement NewLines } 'END' 'WHILE'.
````

Օրինակ, `m` և `n` թվերի մեծագույն ընդհանուր բաժանարարը որոշելու համար 
կարող ենք սահմանել հետևյալ ֆունկցիան.

````
FUNCTION Gcd(n, m)
    WHILE n <> m
        IF n > m THEN
            n = n - m
        ELSE
            m = m - n
        END IF
    END WHILE
    Gcd = n
END FUNCTION
````


__Պրոցեդուրայի կանչ__ հրամանը, որ նախատեսված է ֆունկցիան որպես պրոցեդուրա
կանչելու համար, սկսվում է `CALL` ծառայողական բառով, որին հետևում է կանչվող 
ֆունկցիայի անունը, այնուհետև՝ ստորակետով բաժանված արգումենտները։

````
Statement = 'CALL' IDENT [ Disjunction { ',' Disjunction } ].
````

Օրինակ, հետևյալ երկու տողերը համարժեք են․ առաջինում `PrintMax` ֆունկցիան կանչված
է որպես առանձին հրաման, իսկ երկրորդում՝ այն օգտագործված է որպես արտահայտություն՝
վերագրման հրամանի աջ կողմում։

````
CALL PrintMax x + y, x - y
nothing = PrintMax(x + y, x - y)
````


### Արտահայտություններ

Բեյսիկ-Փ լեզվի արտահայտություններում թույլատվում են _տրամաբանական_, _համեմատման_ 
և _թվաբանական_ գործողություններ։ Այդ գործողությունները ստորև դասավորված են ըստ 
իրենց _նախապատվությունների_ (precedence) աճման։

| Անվանում                     | Գործողություն     |
|------------------------------|-------------------|
|Դիզյունկցիա (disjunction)     | `OR`              |
|Կոնյունկցիա (conjunction)     | `AND`             |
|Հավասարություն (equality)     | `=` `<>`          |
|Համեմատում (comparison)       | `>` `>=` `<` `<=` |
|Գումարում (addition)          | `+` `-`           |
|Բազմապատկում (multiplication) | `*` `/`           |
|Աստիճան (power)               | `^`               |
|Ժխտում, բացասում (negation)   | `NOT` `-` (ունար) |

Բացի բացասման `-` և ժխտման `NOT` միտեղանի (ունար) գործողություններից մյուս 
բոլոր գործողությունները երկտեղանի (բինար) են։ Հավասարության և համեմատման 
գործողությունները ասոցեատիվություն չունեն։ Աստիճան բարձրացնելու `^` 
գործողությունը աջ ասոցեատիվ է, իսկ մյուս բոլոր գործողությունները՝ ձախ 
ասոցեատիվ։ Ունար `-` և `NOT` գործողությունները նույնպես աջ ասոցեատիվ են։

Արտահայտությունների քերականությունը կառուցել եմ ըստ նախապատվությունների 
«մակարդակի»՝ վերը բերված աղյուսակի ամեն մի տողի համար գրելով քերականության 
մի կանոն։ 

Տրամաբանական `OR` և`AND` գործողություններն ունեն ամենացածր նախապատվությունը։ 
Հետևյալ երկու կանոններն ասում են, որ դիզյունկցիան `OR` գործողությամբ իրար 
կապված կոնյունկցիաների շղթա է։ Իսկ կոնյունկցիան իր հերթին `AND` գործողությամբ 
իրար կապված հավասարությունների շղթա է։

````
Disjunction = Conjunction { OR Conjunction }.
Conjunction = Equality { AND Equality }.
````

Համեմատման գործողությունները նույնպես բաժանված են երկու մակարդակի․ հավասարության
`=` և անհավասարության `<>` գործողություններն ունեն ավելի ցածր նախապատվություն, 
քան մյուս չորս համեմատման գործողությունները։ Համեմատման գործողությունները երկու
մակարդակի բաժանելը հնարավորություն է տալիս, օրինակ, `(a > 7) <> (b < 8)` 
արտահայտությունը գրառել առանց փախագծերի։ Եվս մի անգամ նշեմ, որ այս վեց 
գործողությունները ասոցեատիվություն չունեն, այսինքն՝ նրանցից շղթա կազմել չի 
կարելի։ Օրինակ, չի կարելի գրել `a = b = c` տիպի արտահայտություն (բայց կարելի 
է գրել `a = (b = c)`)։

````
Equality   = Comparison [ ('=' | '<>') Comparison ].
Comparison = Addition [ ('>' | '>=' | '<' | '<=') Addition ].
````

Մյուս խումբը թվաբանական գործողություններն են, որտեղ բազմաատկման `*` և բաժանման 
`/` գործողություններն ունեն ավելի բարձր նախապատվություն, քան գումարման `+` և 
հանման `-` գործողությունները։

````
Addition       = Multiplication { ('+' | '-') Multiplication }.
Multiplication = Power { ('*' | '/') Power }.
````

Աստիճան բարձրացնելու `^` գործողությունը աջ ասոցեատիվ է․ `a^b^c` արտահայտությունը 
պետք է կարդալ `a^(b^c)`։ Այդ փաստը մոդելավորել եմ հետևյալ քերականական կանոնով․

````
Power = Factor [ '^' Power ].
````

Եվ վերջապես, ամենապարզ արտահայտությունները ներկայացված են ձախ կողմում `Factor` ոչ 
տերմինալային սիմվոլը պարունակող քերականական կանոններով։ Առաջինը ֆունկցիայի կանչն է․
իդենտիֆիկատոր, որին հետևում է կլոր փակագծերում առնված և ստորակետով անջատված 
արգումենտների հաջորդականությունը։

````
Factor = IDENT '(' [ Disjunction { ',' Disjunction } ] ')'. 
````

Մյուսը գործողության նախապատվությունը բարձրացնող արտահայտությունն է։ Քանի որ 
`Factor` կանոնով թվարկված են ամենաբարձր նախապատվությամբ գործողությունները, 
`(` և `)` փակագծերը հնարավորություն են տալիս ցանկացած արտահայտություն 
հաշվարկել `Factor`֊ին հավասար նախապատվությամբ։ Օրինակ, եթե `a+b*c-e` 
արտահայտությունը լռելությամբ մեկնաբանվում է որպես `(a+(b*c))-d`, ապա
փակագծերի օգնությամբ կարող եմ ավելի ցածր նախապատվություն ունեցող `+` և `-`
գործողությունները կատարել `*`֊ից առաջ․ `(a+b)*(c-d)`։

````
Factor = '(' Disjunction ')'.
````

Ժխտման `NOT` և բացասման `-` ունար գործողությունները նույնպես ունեն ամենաբարձր
նախապատվությունը։ Ահա դրանք ներկայացնող կանոնը․

````
Factor = ('NOT' | '-') Factor.
````

Տարրական արտահայտություններն են իրական թվերը և փոփոխականները։

````
Factor = IDENT
       | NUMBER.
````


### Լեզվի բառային կառուցվածքը

Բեյսիկ-Փ լեզվի բառակազմությունը (լեքսիկա) պարունակում է ծառայողական բառեր, 
իդենտիֆիկատորներ, կետադրական և գործողությունների նշաններ, իրական թվերի 
լիտերալներ։ 

Ծառայողական բառերն են. `DECLARE`, `FUNCTION`, `END`, `INPUT`, `PRINT`, 
`IF`, `THEN`, `ELSEIF`, `ELSE`, `FOR`, `TO`, `STEP`, `WHILE`, `CALL`,
`AND`, `OR`, `NOT`։

Իդենտիֆիկատորները լատինական տառերի և թվանշանների հաջորդականություններ են, 
որոնք սկսվում են տառով։ Օրինակ, `a`, `x0`, `x1y2`։ 

Իրական թվերի լիտերալները ոչ պարտադիր տասնորդական կետ պարունակող թվանշանների 
հաջորդականություններ են։ Օրինակ․ `3.14`, `777`։

Գործողություններ ցույց տվող նիշերն ու նիշերի միացություններն են․ `+`, `-`,
 `*`, `/`, `^`, `=`, `<>`, `>`, `>=`, `<`, `<=`։
 
Կետադրական նշաններն են․ `(`, `)`, `,`։ 

Մեկնաբանությունները սկսվում են `'` նիշով և շարունակվում են մինչև տողի վերջը։

Բառային վերլուծիչը (լեքսիկական անալիզատոր) պետք է Բեյսիկ-Փ լեզվով գրված 
ծրագրերում ճանաչի բոլոր այս բաղադրիչները։
